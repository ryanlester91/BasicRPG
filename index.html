<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
	<title>Basic RPG</title>
	<link href="https://fonts.googleapis.com/css2?family=Baloo+Tammudu+2:wght@500&display=swap" rel="stylesheet">	
	<!-- Bootstrap Cdn -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<!-- CSS LINKS -->
    <!--<link rel="stylesheet" type="text/css" href="reset.css">-->
	<link rel="stylesheet" type="text/css" href="styles.css">
	<link rel="" type="text/javascript" href="game.js">
	
	<!-- jquery Cdn -->
	<!--<script
	  src="https://code.jquery.com/jquery-3.1.1.min.js"
	  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
	  crossorigin="anonymous"></script>-->
	  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

      
</head>

<body>
	<div id="backgroundText">SPACE GHOST PLANET RUMBLE</div>
		<br>
<div class="container">
	<div class="row gallery">
		

		<div id="spaceghost" class="col-lg-3 col-md-3 col-sm-6 thumb">
			<a class="thumbnail" href="#">
				<img id="space-ghost" class="img-responsive" src="images/space-ghost.jpg" alt="Space Ghost" width="200px" height="200px">
			</a>
			<br>
			<span>Attack Points:
				<span class="attack" value="10">10</span>
			</span>
			<br>
			<span>Health Points:
				<span class="HP" value="130">130</span>
			</span>
			<br>
			<span>Counter-attack Points:
				<span class="counterAttack">10</span>
			</span>
		</div>

		<div id="zorak" class="col-lg-3 col-md-3 col-sm-6 thumb">
			<a class="thumbnail" href="#">
				<img id="zorak-img" class="img-responsive" src="images/zorak.jpg" alt="Zorak" width="200px" height="200px">
			</a>
			<br>
			<span>Attack Points:
				<span class="attack" value="11">11</span>
			</span>
			<br>
			<span>Health Points:
				<span class="HP" value="130">130</span>
			</span>
			<br>
			<span>Counter-attack Points:
				<span class="counterAttack">9</span>
			</span>
		</div>

		<div id="moltar" class="col-lg-3 col-md-3 col-sm-6 thumb">
			<a class="thumbnail" href="#">
				<img id="moltar-img" class="img-responsive" src="images/moltar.jpg" alt="Moltar" width="200px" height="200px">
			</a>
			<br>
			<span>Attack Points:
				<span class="attack" value="12">12</span>
			</span>
			<br>
			<span>Health Points:
				<span class="HP" value="130">125</span>
			</span>
			<br>
			<span>Counter-attack Points:
				<span class="counterAttack">10</span>
			</span>
		</div>

		<div id="brak" class="col-lg-3 col-md-3 col-sm-6 thumb">
			<a class="thumbnail" href="#">
				<img id="brak-img" class="img-responsive" src="images/brak.jpg" alt="Brak" width="200px" height="200px">
			</a>
			<br>
			<span>Attack Points:
				<span class="attack" value="10">10</span>
			</span>
			<br>
			<span>Health Points:
				<span class="HP" value="150">130</span>
			</span>
			<br>
			<span>Counter-attack Points:
				<span class="counterAttack">8</span>
			</span>
		</div>

		<!--<div id="blackwidow" class="col-lg-3 col-md-3 col-sm-6 thumb">
			<a class="thumbnail" href="#">
				<img id="moltar-img" class="img-responsive" src="images/blackwidow.jpg" alt="Black Widow" width="200px" height="200px">
			</a>
			<br>
			<span>Attack Points:
				<span class="attack" value="23">23</span>
			</span>
			<br>
			<span>Health Points:
				<span class="HP" value="130">130</span>
			</span>
			<br>
			<span>Counter-attack Points:
				<span class="counterAttack">21</span>
			</span>
		</div>-->

	
		
	
	<!--<div id="opponentSelect"></div>-->

</div>

<div id="fightSection">
	<button id="attackbtn" class="btn btn-danger">Attack!</button>
	<button id="resetbtn" class="btn btn-primary">Reset</button>
	<div id="playerArea" class="characterArea col-sm-5 text-center">
		<p>Your Character:</p>
		<div id="player">
			<!-- Opponent image goes here -->
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<div id="message" class="text-center">
				<!-- Post-attack message goes here.-->
				<p>Double-click to choose your character, then click your opponent. Rumble!</p>
			</div>
		</div>
	</div>
    <div id="opponentArea" class="characterArea col-sm-5 text-center">
		<p>Your Opponent:</p>
		<div id="opponent">
			<!-- Opponent image goes here -->
		</div>
	</div>
</div>


<!--<script type="text/javascript">-->
<script>

var firstEmpty = true;
var secondEmpty = true;
var foesLeft = 2;

$(document).ready(function () {

	$(".container").click(function () {
        var activate = function () {

			if(firstEmpty) {
				$("#spaceghost").on("click", function () {
                    $("#spaceghost").detach().appendTo('#player');
                    $("#spaceghost").removeClass("col-lg-3 col-md-3 col-sm-6").addClass("col-sm-12");
                    firstEmpty = false;
					console.log(firstEmpty);
		
				})
	
	
				$("#zorak").on("click", function () {
                	$("#zorak").detach().appendTo('#player');
                	$("#zorak").removeClass("col-lg-3 col-md-3 col-sm-6").addClass("col-sm-12");
					firstEmpty = false;
                	console.log(firstEmpty);
					//console.log("Wahahaha!");
					});

				$("#moltar").on("click", function () {
                	$("#moltar").detach().appendTo('#player');
                	$("#moltar").removeClass("col-lg-3 col-md-3 col-sm-6").addClass("col-sm-12");
					firstEmpty = false;
                	console.log(firstEmpty);
					//console.log("Wahahaha!");
					});

				$("#brak").on("click", function () {
                	$("#brak").detach().appendTo('#player');
                	$("#brak").removeClass("col-lg-3 col-md-3 col-sm-6").addClass("col-sm-12");
					firstEmpty = false;
                	console.log(firstEmpty);
					//console.log("Wahahaha!");
					});

				$("#blackwidow").on("click", function () {
                	$("#blackwidow").detach().appendTo('#player');
                	$("#blackwidow").removeClass("col-lg-3 col-md-3 col-sm-6").addClass("col-sm-12");
					firstEmpty = false;
                	console.log(firstEmpty);
					//console.log("Wahahaha!");
					});
	

				} else {
					$(".gallery #spaceghost").one("click", function () {
                    	$("#spaceghost").detach().appendTo('#opponent');
                    	$("#spaceghost").removeClass("col-lg-3 col-md-3 col-sm-6").addClass("col-sm-12");
                    	$("#attackbtn").prop("disabled", false);
						secondEmpty = false;  
				});	
					$(".gallery #zorak").one("click", function () {
                    	$("#zorak").detach().appendTo('#opponent');
                    	$("#zorak").removeClass("col-lg-3 col-md-3 col-sm-6").addClass("col-sm-12");
                    	$("#attackbtn").prop("disabled", false);
						secondEmpty = false;  
					});
					
					$(".gallery #moltar").one("click", function () {
                    	$("#moltar").detach().appendTo('#opponent');
                    	$("#moltar").removeClass("col-lg-3 col-md-3 col-sm-6").addClass("col-sm-12");
                    	$("#attackbtn").prop("disabled", false);
						secondEmpty = false;
					});

					$(".gallery #brak").one("click", function () {
                    	$("#brak").detach().appendTo('#opponent');
                    	$("#brak").removeClass("col-lg-3 col-md-3 col-sm-6").addClass("col-sm-12");
                    	$("#attackbtn").prop("disabled", false);
						secondEmpty = false;
					});

					$(".gallery #blackwidow").one("click", function () {
                    	$("#blackwidow").detach().appendTo('#opponent');
                    	$("#blackwidow").removeClass("col-lg-3 col-md-3 col-sm-6").addClass("col-sm-12");
                    	$("#attackbtn").prop("disabled", false);
						secondEmpty = false;
					});

				}
			};

		activate();
			});

	$("#attackbtn").on("click", function () {
        if (!firstEmpty && !secondEmpty) {
            console.log(firstEmpty);
            $(".thumb").off("click");
            var baseAttack = $("#player .attack").attr("value");
            var selfAttack = $("#player .attack").text();
            var oppAttack = $("#opponent .attack").text();
            var selfHP = $("#player .HP").text();
            var oppHP = $("#opponent .HP").text();
            var selfCounter = $("#player .counterAttack").text();
            var oppCounter = $("#opponent .counterAttack").text();

            console.log(selfAttack);
            console.log(oppAttack);
            selfHP = parseInt(selfHP) - parseInt(oppCounter);
            $("#player .HP").text(selfHP);
            oppHP = parseInt(oppHP) - parseInt(selfAttack);
            $("#opponent .HP").text(oppHP);

            $("#message").html("<p>Your character dealt " + selfAttack + " damage points.</p><p>Your opponent dealt " + oppCounter + " damage points.</p>");
            selfAttack = parseInt(selfAttack) + parseInt(baseAttack);
            $("#player .attack").text(selfAttack);
			console.log(selfAttack);
			
			if (oppHP <= 0 && selfHP <= 0 & foesLeft === 0) {
                $("#message").text("It's a tie! Everyone was defeated!");
                $("body").attr("style", "background-image:url('images/defeat.jpeg');");
                $("#opponentArea p").hide();
                $("#playerArea p").hide();
                $("#opponent .thumb").detach().appendTo(".gallery").hide();
                $("#player .thumb").detach().appendTo(".gallery").hide();
                $("#attackbtn").prop("disabled", true);
            } else if (selfHP <= 0) {
                $("#message").html("<p>You lost!</p>");
				//$("body").addClass("card");
				//$(".card").attr("style", "width: 18rem");
                $("#player .thumb").detach().appendTo(".gallery").hide();
                $("#attackbtn").prop('disabled', true);
                $("body").attr("style", "background-image:url('images/zorak-laughing.jpg');");
                $("#opponentArea p").hide();
                $("#playerArea p").hide();
                $("#opponent").hide();
                $(".gallery").hide();
            } else if (oppHP <= 0 && foesLeft > 0) {
                $("#message").html("<p>You defeated " + $("#opponent img").attr("alt") + "!</p>");
                $("#opponent .thumb").detach().appendTo(".gallery").hide();
                $("#attackbtn").prop("disabled", true);
                foesLeft--;
            } else if (oppHP <= 0 && foesLeft === 0) {
                $("#message").text("Congratulations, " + $("#player img").attr("alt") + "! You defeated all enemies!");
                $("#message").attr("style", "text-shadow: 0 0 2px grey");
                $("#opponent .thumb").detach().appendTo(".gallery").hide();
                $("#opponentArea p").hide();
                $("#playerArea p").hide();
                $("#player .thumb").attr("style", "position: absolute; top: 120%; left: 70%;");
                $("body").attr("style", "background-image:url('images/ghost-flex.jpg');");
                $("#attackbtn").prop("disabled", true);
            }

        }
    });
	//Look into how to get opponent to continue attacking

	$("#attackbtn").on("click", function () {
        if (!firstEmpty && !secondEmpty) {
            console.log(firstEmpty);
        }
    else {
        console.log("Hello there!");
    }
})
    

	$("#resetbtn").on("click", function () {
		console.log("All clear!");
		$(".thumb").off("click");
        var resetAttack = $(".attack").attr("value");
        $(".attack").text(resetAttack);

        var resetGhostHP = $("#spaceghost .HP").attr("value");
        $("#spaceghost .HP").text(resetGhostHP);
        var resetZorakHP = $("#zorak .HP").attr("value");
        $("#zorak .HP").text(resetZorakHP);
        var resetMoltarHP = $("#moltar .HP").attr("value");
        $("#moltar .HP").text(resetMoltarHP);
    	var resetBrakHP = $("#brak .HP").attr("value");
		$("#brak .HP").text(resetBrakHP);
		var resetWidowHP = $("#blackwidow .HP").attr("value");
        $("#blackwidow .HP").text(resetWidowHP);

        $("#player .thumb").attr("style", "position: static;");
        $("#opponentArea p").show();
        $("#playerArea p").show();
        $(".gallery").show();
        $("#attackbtn").prop("disabled", true);
        $("#message").text("Click to choose your character, then click your opponent. Rumble again!");
        $(".gallery").append($("#spaceghost").show().attr("class", "col-lg-3 col-md-3 col-sm-6 thumb"));
        $(".gallery").append($("#zorak").show().attr("class", "col-lg-3 col-md-3 col-sm-6 thumb"));
        $(".gallery").append($("#moltar").show().attr("class", "col-lg-3 col-md-3 col-sm-6 thumb"));
		$(".gallery").append($("#brak").show().attr("class", "col-lg-3 col-md-3 col-sm-6 thumb"));
		$(".gallery").append($("#blackwidow").show().attr("class", "col-lg-3 col-md-3 col-sm-6 thumb"));
        $("body").attr("style", "background-image:url('../images/setting.jpg') no-repeat center center fixed;");
        $("#opponentArea").html("<p>Your opponent:</p><div id='opponent'><!-- Opponent image goes here --></div>");
        foesLeft = 2;

        $("#player").empty();
        $("#opponent").empty();
        firstEmpty = true;


    });
});

	
	

	
			

</script>
</body>
</html>
